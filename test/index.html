<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Page title</title>
  <script src="prototype.js" type="text/javascript"></script>
  <script src="scriptaculous/scriptaculous.js" type="text/javascript"></script>
  <script src="scriptaculous/unittest.js" type="text/javascript"></script>
  <!-- other JavaScript includes -->
  <script src="../src/format-currency.js" type="text/javascript"></script>
  <link rel="stylesheet" href="scriptaculous/test.css" type="text/css" />
</head>
<body>

<!-- Log output -->
<div id="testlog"> </div>

<!-- here go any elements you do the testing on -->

<!-- Tests -->
<script type="text/javascript" language="javascript">
// <![CDATA[
  new Test.Unit.Runner({
    // optional setup function, run before each individual test case
    setup: function() { with(this) {
      // code
    }},
    // optional teardown function, run after each individual test case
    teardown: function() { with(this) {
      // code
    }},

    testNumberToCurrency: function() { with(this) {
            assertEqual('$1.20', numberToCurrency(1.2));
            assertEqual('$1.20', numberToCurrency('1.2'));
            assertEqual('$1.20', numberToCurrency('1.202222'));
            assertEqual('$1.21', numberToCurrency('1.205555'));
            assertEqual('$1.20', numberToCurrency('$1.20'));
            assertEqual('$1.20', numberToCurrency('$1.2'));
            assertEqual('$1,000.20', numberToCurrency('$1000.2'));
            assertEqual('$10,000.20', numberToCurrency('$10000.2'));
            assertEqual('$100,000.20', numberToCurrency('$100000.2'));
            assertEqual('$1,000,000.20', numberToCurrency('$1000000.2'));
            assertEqual('$10,000,000.20', numberToCurrency('$10000000.2'));

            assertEqual('-$1.20', numberToCurrency(-1.2));
            assertEqual('-$1.20', numberToCurrency('-1.2'));
            assertEqual('-$1.20', numberToCurrency('-1.202222'));
            assertEqual('-$1.21', numberToCurrency('-1.205555'));
            assertEqual('-$1.20', numberToCurrency('-$1.20'));
            assertEqual('-$1.20', numberToCurrency('-$1.2'));
            assertEqual('-$1,000.20', numberToCurrency('-1000.2'));
            assertEqual('-$10,000.20', numberToCurrency('-10000.2'));
            assertEqual('-$100,000.20', numberToCurrency('-100000.2'));
            assertEqual('-$1,000,000.20', numberToCurrency('-1000000.2'));
            assertEqual('-$10,000,000.20', numberToCurrency('-10000000.2'));

            assertEqual('($1.20)', numberToCurrency(-1.2, {negativeFormat: "(%u%n)"}));
            assertEqual('($1.20)', numberToCurrency('-1.2', {negativeFormat: "(%u%n)"}));
            assertEqual('($1.20)', numberToCurrency('-1.202222', {negativeFormat: "(%u%n)"}));
            assertEqual('($1.21)', numberToCurrency('-1.205555', {negativeFormat: "(%u%n)"}));
            assertEqual('($1.20)', numberToCurrency('-$1.20', {negativeFormat: "(%u%n)"}));
            assertEqual('($1.20)', numberToCurrency('-$1.2', {negativeFormat: "(%u%n)"}));
            assertEqual('($1,000.20)', numberToCurrency('-1000.2', {negativeFormat: "(%u%n)"}));
            assertEqual('($10,000.20)', numberToCurrency('-10000.2', {negativeFormat: "(%u%n)"}));
            assertEqual('($100,000.20)', numberToCurrency('-100000.2', {negativeFormat: "(%u%n)"}));
            assertEqual('($1,000,000.20)', numberToCurrency('-1000000.2', {negativeFormat: "(%u%n)"}));
            assertEqual('($10,000,000.20)', numberToCurrency('-10000000.2', {negativeFormat: "(%u%n)"}));

            assertEqual('($100.000,20)', numberToCurrency('-100000.2', {negativeFormat: "(%u%n)", delimiter: ".", separator: ","}));
            assertEqual('($1.000.000,20)', numberToCurrency('-1000000.2', {negativeFormat: "(%u%n)", delimiter: ".", separator: ","}));
            assertEqual('($10.000.000,20)', numberToCurrency('-10000000.2', {negativeFormat: "(%u%n)", delimiter: ".", separator: ","}));

            assertEqual('-$1.202', numberToCurrency('-1.202222', {precision: 3}));
            assertEqual('-$1.206', numberToCurrency('-1.205555', {precision: 3}));
            assertEqual('-$1.200', numberToCurrency('-$1.20', {precision: 3}));
            assertEqual('$10,000', numberToCurrency('10000.01', {precision: 0}));
            assertEqual('($10,000)', numberToCurrency('-10000.01', {precision: 0, negativeFormat: "(%u%n)"}));

            assertEqual('10.000,20&pound;', numberToCurrency('$10000.2', {format: "%n%u", delimiter: ".", separator: ",", unit: "&pound;"}));
            assertEqual('100.000,20&pound;', numberToCurrency('$100000.2', {format: "%n%u", delimiter: ".", separator: ",", unit: "&pound;"}));
    }}
  });
// ]]>
</script>
</body>
</html>
